<button id="{{id}}" ng-disabled="loading">
  <div style="width:100%; height:100%;">
    <div ng-show="!loading" style="display:block; position:absolute; top:50%; left:50%; transform: translate( -50%, -50% );">
      <div ng-transclude></div>
    </div>
    <div ng-show="loading && text" style="display:block; position:absolute; top:50%; left:50%; transform: translate( -50%, -50% );">
      {{text}}{{'.'.repeat(count)}}
    </div>
    <div ng-show="loading && !text" ng-switch on="mode" style="display:block; float:none; position:absolute; top:50%; left:50%; transform: translate( -50%, -50% );">
      <div class="sk-rotating-plane" ng-show="mode=='rotating-plane'" ng-style="{'background-color':'{{color||'black'}}'}" style="position:relative;"></div>
      <div class="sk-double-bounce" ng-show="mode=='double-bounce'" style="position:relative;">
        <div class="sk-child sk-double-bounce1" ng-style="{'background-color':'{{color||'black'}}'}"></div>
        <div class="sk-child sk-double-bounce2" ng-style="{'background-color':'{{color||'black'}}'}"></div>
      </div>
      <div class="sk-wave" ng-show="mode=='wave'" style="position:relative;">
        <div class="sk-rect sk-rect1" ng-style="{'background-color':'{{color||'black'}}'}"></div>
        <div class="sk-rect sk-rect2" ng-style="{'background-color':'{{color||'black'}}'}"></div>
        <div class="sk-rect sk-rect3" ng-style="{'background-color':'{{color||'black'}}'}"></div>
        <div class="sk-rect sk-rect4" ng-style="{'background-color':'{{color||'black'}}'}"></div>
        <div class="sk-rect sk-rect5" ng-style="{'background-color':'{{color||'black'}}'}"></div>
      </div>
      <div class="sk-wandering-cubes" ng-show="mode=='wandering-cubes'" style="position:relative;">
        <div class="sk-cube sk-cube1" ng-style="{'background-color':'{{color||'black'}}'}"></div>
        <div class="sk-cube sk-cube2" ng-style="{'background-color':'{{color||'black'}}'}"></div>
      </div>
      <div class="sk-spinner sk-spinner-pulse" ng-show="mode=='spinner-pulse'" ng-style="{'background-color':'{{color||'black'}}'}" style="position:relative;"></div>
      <div class="sk-chasing-dots" ng-show="mode=='chasing-dots'" style="position:relative;">
        <div class="sk-child sk-dot1" ng-style="{'background-color':'{{color||'black'}}'}"></div>
        <div class="sk-child sk-dot2" ng-style="{'background-color':'{{color||'black'}}'}"></div>
      </div>
      <div class="sk-three-bounce" ng-show="mode=='three-bounce'" ng-switch-default style="position:relative;">
        <div class="sk-child sk-bounce1" ng-style="{'background-color':'{{color||'black'}}'}"></div>
        <div class="sk-child sk-bounce2" ng-style="{'background-color':'{{color||'black'}}'}"></div>
        <div class="sk-child sk-bounce3" ng-style="{'background-color':'{{color||'black'}}'}"></div>
      </div>
      <div class="sk-circle" ng-show="mode=='circle'" style="position:relative;">
        <div class="sk-circle1 sk-child"></div>
        <div class="sk-circle2 sk-child"></div>
        <div class="sk-circle3 sk-child"></div>
        <div class="sk-circle4 sk-child"></div>
        <div class="sk-circle5 sk-child"></div>
        <div class="sk-circle6 sk-child"></div>
        <div class="sk-circle7 sk-child"></div>
        <div class="sk-circle8 sk-child"></div>
        <div class="sk-circle9 sk-child"></div>
        <div class="sk-circle10 sk-child"></div>
        <div class="sk-circle11 sk-child"></div>
        <div class="sk-circle12 sk-child"></div>
      </div>
      <style> #{{id}} div.sk-circle div.sk-child:before { background-color: {{color||'black'}}; } </style>
      <div class="sk-cube-grid" ng-show="mode=='cube-grid'" style="position:relative;">
        <div class="sk-cube sk-cube1" ng-style="{'background-color':'{{color||'black'}}'}"></div>
        <div class="sk-cube sk-cube2" ng-style="{'background-color':'{{color||'black'}}'}"></div>
        <div class="sk-cube sk-cube3" ng-style="{'background-color':'{{color||'black'}}'}"></div>
        <div class="sk-cube sk-cube4" ng-style="{'background-color':'{{color||'black'}}'}"></div>
        <div class="sk-cube sk-cube5" ng-style="{'background-color':'{{color||'black'}}'}"></div>
        <div class="sk-cube sk-cube6" ng-style="{'background-color':'{{color||'black'}}'}"></div>
        <div class="sk-cube sk-cube7" ng-style="{'background-color':'{{color||'black'}}'}"></div>
        <div class="sk-cube sk-cube8" ng-style="{'background-color':'{{color||'black'}}'}"></div>
        <div class="sk-cube sk-cube9" ng-style="{'background-color':'{{color||'black'}}'}"></div>
      </div>
      <div class="sk-fading-circle" ng-show="mode=='fading-circle'" style="position:relative;">
        <div class="sk-circle1 sk-circle" style="margin: 0;"></div>
        <div class="sk-circle2 sk-circle" style="margin: 0;"></div>
        <div class="sk-circle3 sk-circle" style="margin: 0;"></div>
        <div class="sk-circle4 sk-circle" style="margin: 0;"></div>
        <div class="sk-circle5 sk-circle" style="margin: 0;"></div>
        <div class="sk-circle6 sk-circle" style="margin: 0;"></div>
        <div class="sk-circle7 sk-circle" style="margin: 0;"></div>
        <div class="sk-circle8 sk-circle" style="margin: 0;"></div>
        <div class="sk-circle9 sk-circle" style="margin: 0;"></div>
        <div class="sk-circle10 sk-circle" style="margin: 0;"></div>
        <div class="sk-circle11 sk-circle" style="margin: 0;"></div>
        <div class="sk-circle12 sk-circle" style="margin: 0;"></div>
      </div>
      <style> #{{id}} div.sk-fading-circle div.sk-circle:before { background-color: {{color||'black'}}; } </style>
      <div class="sk-folding-cube" ng-show="mode=='folding-cube'" style="position:relative;">
        <div class="sk-cube1 sk-cube"></div>
        <div class="sk-cube2 sk-cube"></div>
        <div class="sk-cube4 sk-cube"></div>
        <div class="sk-cube3 sk-cube"></div>
      </div>
      <style> #{{id}} div.sk-folding-cube div.sk-cube:before { background-color: {{color||'black'}}; } </style>
    </div>
  </div>
  <style> #{{id}} .ng-hide.ng-hide-animate { display: none !important; } </style>
</button>
